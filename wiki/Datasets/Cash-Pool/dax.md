



# DAX

|Dataset|[Cash Pool](./../Cash-Pool.md)|
| :--- | :--- |
|Workspace|[FC_Cash_Management](../../Workspaces/FC_Cash_Management.md)|

## Table: CP_CASH_POOL_BALANCES

### Measures:


```dax
VALUE_BALANCE running total in DATE = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	FILTER(
		ALLSELECTED('CP_CASH_POOL_BALANCES'[DATE]),
		ISONORAFTER('CP_CASH_POOL_BALANCES'[DATE], MAX('CP_CASH_POOL_BALANCES'[DATE]), DESC)
	)
)
```



```dax
VALUE_BALANCE total for DATE = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	ALLSELECTED('CP_CASH_POOL_BALANCES'[DATE])
)
```



```dax
VALUE_BALANCE total for DATE total for Day = 
CALCULATE(
	[VALUE_BALANCE total for DATE],
	ALLSELECTED('CP_CASH_POOL_BALANCES'[DATE].[Day])
)
```



```dax
VALUE_BALANCE total for DATE 2 = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	ALLSELECTED('CP_CASH_POOL_BALANCES'[DATE])
)
```



```dax
VALUE_BALANCE running total in DATE 2 = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	FILTER(
		ALLSELECTED('CP_CASH_POOL_BALANCES'[DATE]),
		ISONORAFTER('CP_CASH_POOL_BALANCES'[DATE], MAX('CP_CASH_POOL_BALANCES'[DATE]), DESC)
	)
)
```



```dax
VALUE_BALANCE total for DATE 3 = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	ALLSELECTED('CP_CASH_POOL_BALANCES'[DATE])
)
```



```dax
VALUE_BALANCE for France = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	'CP_CASH_POOL_BALANCES'[ENTITY] IN { "France" }
)
```



```dax
TOTAL = SUM(CP_CASH_POOL_BALANCES[VALUE_BALANCE])
```



```dax
TOTAL_Transactions = SUM(CP_CASH_POOL_BALANCES[TRANSACTION_AMOUNT_VALUE_BALANCE])
```



```dax
Current TOTAL = 
CALCULATE(
	SUM('CP_CASH_POOL_BALANCES'[VALUE_BALANCE]),
	'CP_CASH_POOL_BALANCES'[DATE] IN { today() }
)
```


### Calculated Columns:


```dax
Year = YEAR(CP_CASH_POOL_BALANCES[DATE])
```



```dax
MonthDay = DATE(2000,MONTH(CP_CASH_POOL_BALANCES[DATE]),DAY(CP_CASH_POOL_BALANCES[DATE])) 
```


## Table: CP_CASH_POOL_BALANCES_YEAR_TO_DATE

### Measures:


```dax
TOTAL_CP_YTD_AVG = SUM(CP_CASH_POOL_BALANCES_YEAR_TO_DATE[VALUE_BALANCE_AVG])
```

